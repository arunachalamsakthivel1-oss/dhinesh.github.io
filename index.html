<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dhinesh Profile + Weather</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
  <style>
    :root{
      --bg:#dff4f6;
      --card:#ffffff;
      --accent:#0aa37f;
      --accent-soft:#e3f6f1;
      --text:#0f1a1a;
      --muted:#5b6b6b;
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font-family:system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color:var(--text);
      background: radial-gradient(1200px 600px at 20% -10%, #e9fbff 20%, transparent 60%),
                  radial-gradient(900px 500px at 110% 10%, #e6faf5 15%, transparent 60%),
                  var(--bg);
      min-height:100vh;
      display:flex;
      align-items:flex-start;
      justify-content:center;
      padding:32px;
      gap:24px;
      overflow-x:hidden;
    }
    .card{
      width:min(780px, 70vw);
      background:var(--card);
      border-radius:18px;
      padding:28px 36px 32px;
      box-shadow:0 14px 40px rgba(0,0,0,.10);
      border:1px solid rgba(15,26,26,.06);
      animation:slideIn 0.6s ease-out;
      transition:transform 0.3s ease, box-shadow 0.3s ease;
    }
    .card:hover{
      transform:translateY(-4px);
      box-shadow:0 20px 50px rgba(10,163,127,.15);
    }
    @keyframes slideIn{
      from{opacity:0; transform:translateY(20px)}
      to{opacity:1; transform:translateY(0)}
    }
    .title{
      text-align:center;
      font-weight:800;
      font-size:32px;
      letter-spacing:.2px;
      margin:4px 0 6px;
      background:linear-gradient(135deg, #0aa37f, #064c3a);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-clip:text;
    }
    .subtitle{
      text-align:center;
      color:var(--muted);
      font-size:14px;
      display:flex;
      gap:8px;
      justify-content:center;
      align-items:center;
      flex-wrap:wrap;
      animation:fadeIn 0.8s ease-out 0.2s both;
    }
    @keyframes fadeIn{
      from{opacity:0}
      to{opacity:1}
    }
    .pill{
      color:#0b6b55;
      background:var(--accent-soft);
      border:1px solid rgba(10,163,127,.25);
      border-radius:999px;
      padding:6px 14px;
      font-weight:600;
      transition:all 0.3s ease;
      cursor:pointer;
    }
    .pill:hover{
      background:#0aa37f;
      color:white;
      transform:scale(1.05);
    }
    h3{
      margin:24px 0 10px;
      letter-spacing:.4px;
      color:#0b3b34;
      position:relative;
      padding-bottom:8px;
    }
    h3::after{
      content:'';
      position:absolute;
      bottom:0;
      left:0;
      width:40px;
      height:3px;
      background:linear-gradient(90deg, #0aa37f, transparent);
      border-radius:999px;
    }
    p{color:#213131; line-height:1.8; margin:0; transition:color 0.3s ease}
    p:hover{color:#0aa37f}
    ul{margin:8px 0 0 18px; color:#213131}
    li{margin:8px 0; transition:all 0.3s ease; padding-left:8px}
    li:hover{color:#0aa37f; padding-left:16px}
    .section{
      margin-top:20px;
      animation:slideIn 0.6s ease-out;
      animation-fill-mode:both;
    }
    .section:nth-child(2){animation-delay:0.1s}
    .section:nth-child(3){animation-delay:0.2s}
    .section:nth-child(4){animation-delay:0.3s}
    .section:nth-child(5){animation-delay:0.4s}
    .contact{margin-top:24px}
    a{
      color:#0a8166;
      text-decoration:none;
      font-weight:600;
      position:relative;
      transition:color 0.3s ease;
    }
    a::after{
      content:'';
      position:absolute;
      bottom:-2px;
      left:0;
      width:0;
      height:2px;
      background:#0a8166;
      transition:width 0.3s ease;
    }
    a:hover{color:#064c3a}
    a:hover::after{width:100%}

    /* Weather card styled to match */
    #weather-panel{
      width:280px;
      position:sticky;
      top:32px;
      animation:slideIn 0.6s ease-out 0.1s both;
    }
    #weather-title{
      font-size:0.9rem;
      font-weight:700;
      letter-spacing:0.08em;
      color:#064c3a;
      margin-bottom:8px;
    }
    #weather-box{
      padding:20px 18px;
      border-radius:18px;
      background:#ffffff;
      border:1px solid rgba(0,0,0,0.04);
      box-shadow:0 18px 40px rgba(0,0,0,0.08);
      transition:all 0.4s ease;
    }
    #weather-box:hover{
      box-shadow:0 25px 50px rgba(10,163,127,.2);
      transform:translateY(-2px);
    }
    #status{
      margin-bottom:12px;
      font-size:0.85rem;
      color:#4e6666;
      font-weight:500;
    }
    #weather-data{
      font-size:0.9rem;
      line-height:1.6;
      color:#153333;
      background:linear-gradient(135deg, #e8faf6 0%, #f0fbf9 100%);
      border-radius:12px;
      padding:14px 12px;
      border:1px solid rgba(6,179,137,0.24);
      margin-bottom:12px;
      transition:all 0.3s ease;
    }
    #weather-data:hover{
      border-color:rgba(6,179,137,0.5);
      box-shadow:0 4px 12px rgba(10,163,127,.1);
    }
    #weather-data > div{
      margin:6px 0;
      transition:all 0.3s ease;
    }
    #weather-data > div:hover{
      padding-left:6px;
      color:#0aa37f;
    }
    .weather-pill-row{
      margin-top:14px;
      display:flex;
      flex-wrap:wrap;
      gap:8px;
    }
    .weather-pill{
      font-size:0.8rem;
      padding:6px 12px;
      border-radius:999px;
      background:#e3f7fb;
      color:#0b6b55;
      border:1.5px solid rgba(0,171,155,0.35);
      font-weight:600;
      transition:all 0.3s ease;
      cursor:pointer;
    }
    .weather-pill:hover{
      background:#0aa37f;
      color:white;
      transform:scale(1.08);
      border-color:#0aa37f;
    }
    #map {
      height: 280px;
      width: 100%;
      border-radius: 12px;
      margin-top: 14px;
      border: 1.5px solid rgba(6,179,137,0.24);
      transition:all 0.3s ease;
      box-shadow:0 4px 12px rgba(0,0,0,0.06);
    }
    #map:hover{
      box-shadow:0 8px 20px rgba(10,163,127,.15);
    }
    @media (max-width:900px){
      body{
        flex-direction:column;
        align-items:center;
      }
      .card{
        width:100%;
        max-width:780px;
      }
      #weather-panel{
        width:100%;
        max-width:420px;
        position:relative;
        top:0;
      }
    }
  </style>
</head>
<body>

  <!-- Main profile card -->
  <main class="card">
    <h1 class="title">Dhinesh Gomathi Shankar Arunachalam</h1>
    <div class="subtitle">
      <span>average curly haired 6 ft guy ğŸ™‚</span>
      <span class="pill">CS student</span>
      <span class="pill">IIT Madras</span>
    </div>

    <section class="section">
      <h3>ABOUT ME</h3>
      <p>Hi! I'm Dhinesh, a 17-year-old computer science student at IIT Madras from Bangalore. I love coding and entrepreneurship and I always prefer smart work over hard work. I'm a Tamilian, well-versed in most South Indian languages and Hindi, and I pick things up fast.</p>
    </section>

    <section class="section">
      <h3>HOBBIES</h3>
      <ul>
        <li>ğŸ’» Coding</li>
        <li>â™Ÿï¸ Chess</li>
        <li>ğŸ’ª Gym</li>
        <li>ğŸ® Gaming</li>
        <li>ğŸ Volleyball</li>
      </ul>
    </section>

    <section class="section">
      <h3>GOALS</h3>
      <ul>
        <li>ğŸš€ Become a successful entrepreneur.</li>
        <li>ğŸ“š Pursue my MBA from IIM Ahmedabad.</li>
        <li>ğŸ“ Continuously learn and grow in computer science.</li>
      </ul>
    </section>

    <section class="section contact">
      <h3>CONTACT ME</h3>
      <p>You can reach me at <a href="mailto:cs25b022@smail.iitm.ac.in">cs25b022@smail.iitm.ac.in</a></p>
    </section>
  </main>

  <!-- Weather card -->
  <aside id="weather-panel">
    <h2 id="weather-title">ğŸŒ¤ï¸ CURRENT WEATHER</h2>
    <div id="weather-box">
      <div id="status">Requesting locationâ€¦</div>
      <div id="weather-data"></div>
      <div id="map"></div>
      <div class="weather-pill-row">
        <span class="weather-pill">ğŸ“ Auto location</span>
        <span class="weather-pill">ğŸ”„ Live update</span>
      </div>
    </div>
  </aside>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
          integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <script>
    const API_KEY = '9afd263c81ab4b7784c132842250112';
    const statusEl = document.getElementById('status');
    const weatherEl = document.getElementById('weather-data');
    let mapInstance = null;

    async function fetchWeatherByCoords(lat, lon) {
      const url = `https://api.weatherapi.com/v1/current.json?key=${API_KEY}&q=${lat},${lon}`;
      const res = await fetch(url);
      if (!res.ok) throw new Error('Weather request failed: ' + res.status);
      return res.json();
    }

    async function updateWeather(lat, lon) {
      try {
        statusEl.textContent = 'â³ Fetching weatherâ€¦';
        const data = await fetchWeatherByCoords(lat, lon);
        statusEl.textContent =
          `âœ… Last update: ${new Date().toLocaleTimeString()}  â€¢  ğŸ“ ${data.location.name}, ${data.location.country}`;

        const icon = data.current.condition.icon.startsWith('//')
          ? 'https:' + data.current.condition.icon
          : data.current.condition.icon;

        weatherEl.innerHTML = `
          <div><strong>ğŸŒ¡ï¸ Temperature:</strong> ${data.current.temp_c}Â°C</div>
          <div><strong>â˜ï¸ Condition:</strong> ${data.current.condition.text} <img src="${icon}" alt="${data.current.condition.text}" style="vertical-align:middle;height:20px;margin-left:6px"></div>
          <div><strong>ğŸ¤” Feels like:</strong> ${data.current.feelslike_c}Â°C</div>
          <div><strong>ğŸ’§ Humidity:</strong> ${data.current.humidity}%</div>
          <div><strong>ğŸ’¨ Wind:</strong> ${data.current.wind_kph} kph</div>
        `;

        if (!mapInstance) {
          mapInstance = L.map('map').setView([lat, lon], 16);
          L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: 'Â© <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
          }).addTo(mapInstance);
        } else {
          mapInstance.setView([lat, lon], 16);
          mapInstance.eachLayer(layer => {
            if (layer instanceof L.Marker) mapInstance.removeLayer(layer);
          });
        }
        L.marker([lat, lon]).addTo(mapInstance).bindPopup(`<b>${data.location.name}</b><br>${data.location.region}, ${data.location.country}`);
      } catch (err) {
        statusEl.textContent = 'âŒ Weather error: ' + err.message;
        console.error(err);
      }
    }

    function requestLocation() {
      if (!navigator.geolocation) {
        statusEl.textContent = 'âŒ Geolocation not supported.';
        return;
      }
      navigator.geolocation.getCurrentPosition(
        (position) => {
          const { latitude, longitude } = position.coords;
          updateWeather(latitude, longitude);
        },
        (error) => {
          statusEl.textContent = 'âŒ Location access denied.';
        }
      );
    }

    requestLocation();
    setInterval(requestLocation, 10 * 60 * 1000);
  </script>
</body>
</html>
